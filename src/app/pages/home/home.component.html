<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <app-navbar></app-navbar>

    <div class="row pt-5 pe-5 ps-5 justify-content-center gap-2">
        <div class="col-3 d-block p-3 custom-div d-none d-lg-flex d-flex flex-column align-items-center text-center">
            <img src="{{ miniProfileDTO.photo ? miniProfileDTO.photo : '/assets/images/bg.jpg' }}" alt="Profile Photo" class="rounded-circle mb-3" width="100" height="100">
            <h1>{{ miniProfileDTO.firstName + " " + miniProfileDTO.lastName }}</h1>
            <p class="pb-2">Software Developer Trainee</p>
            <h4>{{ miniProfileDTO.friendCount ? miniProfileDTO.friendCount : 0 }}</h4>
            <p>Friends</p>
            <h5 class="text-primary pt-3" style="font-weight: bold;"><a routerLink="/profile" style="text-decoration: none;">View My Profile</a></h5>
        </div>

        <div class="col-12 col-lg-5 p-3 custom-div d-block">
            <div class="mb-3">
                <div class="col-6 col-lg-6 text-center mx-auto">
                    <h6 style="color: #3373B0;" class="mt-4">What's on your mind?</h6>
                </div>
            </div>
            <div class="custom-div">
                <!-- Content changes dynamically based on the button clicked -->
                <textarea placeholder="Type your post here"></textarea>
                <!-- image-upload.component.html -->
                <input type="file" (change)="onFileSelected($event)" />
            </div>
            <div class="custom-div text-end">
                <button id="postButton" class="btn mt-2" >Post</button>
            </div>
        </div>        

        <div class="col-3 d-block p-3 custom-div d-none d-lg-flex flex-row">
            <div>
                <div class="d-flex">
                    <h6>Friend Requests</h6>
                <p class="ms-auto"><a (click)="openModal()" style="cursor: pointer;">View All</a></p>
                </div>
                <app-requests *ngFor="let friend of friends" [friend]="friend" [deleteFromView]="deleteFromView.bind(this)"></app-requests>
            </div>
        </div>
    </div>

    <!-- Add another div below every column -->
    <div class="row pb-5 pe-5 ps-5 pt-2 justify-content-center gap-2 ">
        <div class="col-3 d-none d-lg-block p-3 custom-div" style="align-self: flex-start;">
            <div class="d-flex">
              <h6>Album</h6>
              <p class="ms-auto"><a routerLink="/album" class="text-decoration-none text-dark">View All</a></p>
            </div>
            <div class="">
                <app-album></app-album>
            </div>
        </div>

        <div class="col-12 col-lg-5 d-block p-3 custom-div" style="align-self: flex-start;">
            <app-newsfeed></app-newsfeed>
        </div>
        <div class="col-3 d-block p-3 custom-div d-none d-lg-flex " style="align-self: flex-start;">

        </div>
    </div>

    <app-footer></app-footer>

</body>
</html>
